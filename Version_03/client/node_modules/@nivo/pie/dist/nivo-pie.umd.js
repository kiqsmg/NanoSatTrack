!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("react"),require("@nivo/core"),require("@nivo/arcs"),require("@nivo/legends"),require("react/jsx-runtime"),require("d3-shape"),require("@nivo/colors"),require("@nivo/tooltip")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","@nivo/arcs","@nivo/legends","react/jsx-runtime","d3-shape","@nivo/colors","@nivo/tooltip"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.nivo,e.nivo,e["react/jsx-runtime"],e.d3,e.nivo,e.nivo)}(this,(function(e,i,n,t,r,a,o,s,d){"use strict";function l(){return l=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},l.apply(this,arguments)}function c(e,i){if(null==e)return{};var n,t,r={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],i.indexOf(n)>=0||(r[n]=e[n]);return r}var u,v=function(e){var i=e.width,n=e.height,t=e.legends,o=e.data,s=e.toggleSerie;return a.jsx(a.Fragment,{children:t.map((function(e,t){var d;return a.jsx(r.BoxLegendSvg,l({},e,{containerWidth:i,containerHeight:n,data:null!=(d=e.data)?d:o,toggleSerie:e.toggleSerie?s:void 0}),t)}))})},f={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcLinkLabels","arcs","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var i=e.datum;return a.jsx(d.BasicTooltip,{id:i.id,value:i.formattedValue,enableChip:!0,color:i.color})},legends:[],role:"img",pixelRatio:"undefined"!=typeof window&&null!=(u=window.devicePixelRatio)?u:1},g=["points"],L=function(e){var t=e.data,r=e.id,a=void 0===r?f.id:r,o=e.value,d=void 0===o?f.value:o,c=e.valueFormat,u=e.colors,v=void 0===u?f.colors:u,g=n.usePropertyAccessor(a),L=n.usePropertyAccessor(d),h=n.useValueFormatter(c),b=s.useOrdinalColorScale(v,"id");return i.useMemo((function(){return t.map((function(e){var i,n=g(e),t=L(e),r={id:n,label:null!=(i=e.label)?i:n,hidden:!1,value:t,formattedValue:h(t),data:e};return l({},r,{color:b(r)})}))}),[t,g,L,h,b])},h=function(e){var t=e.data,r=e.startAngle,a=e.endAngle,s=e.innerRadius,d=e.outerRadius,c=e.padAngle,u=e.sortByValue,v=e.activeId,f=e.activeInnerRadiusOffset,g=e.activeOuterRadiusOffset,L=e.hiddenIds,h=i.useMemo((function(){var e=o.pie().value((function(e){return e.value})).startAngle(n.degreesToRadians(r)).endAngle(n.degreesToRadians(a)).padAngle(n.degreesToRadians(c));return u||e.sortValues(null),e}),[r,a,c,u]);return i.useMemo((function(){var e=t.filter((function(e){return!L.includes(e.id)}));return{dataWithArc:h(e).map((function(e){var i=Math.abs(e.endAngle-e.startAngle);return l({},e.data,{arc:{index:e.index,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:v===e.data.id?s-f:s,outerRadius:v===e.data.id?d+g:d,thickness:d-s,padAngle:e.padAngle,angle:i,angleDeg:n.radiansToDegrees(i)}})})),legendData:t.map((function(e){return l({},e,{hidden:L.includes(e.id)})}))}}),[h,t,L,v,s,f,d,g])},b=function(e){var r=e.data,a=e.width,o=e.height,s=e.innerRadius,d=void 0===s?f.innerRadius:s,u=e.startAngle,v=void 0===u?f.startAngle:u,L=e.endAngle,b=void 0===L?f.endAngle:L,p=e.padAngle,A=void 0===p?f.padAngle:p,k=e.sortByValue,R=void 0===k?f.sortByValue:k,m=e.cornerRadius,O=void 0===m?f.cornerRadius:m,x=e.fit,C=void 0===x?f.fit:x,I=e.activeInnerRadiusOffset,M=void 0===I?f.activeInnerRadiusOffset:I,y=e.activeOuterRadiusOffset,T=void 0===y?f.activeOuterRadiusOffset:y,S=i.useState(null),W=S[0],w=S[1],j=i.useState([]),B=j[0],V=j[1],P=i.useMemo((function(){var e,i=Math.min(a,o)/2,n=i*Math.min(d,1),r=a/2,s=o/2;if(C){var l=t.computeArcBoundingBox(r,s,i,v-90,b-90),u=l.points,f=c(l,g),L=Math.min(a/f.width,o/f.height),h={width:f.width*L,height:f.height*L};h.x=(a-h.width)/2,h.y=(o-h.height)/2,r=(r-f.x)/f.width*f.width*L+h.x,s=(s-f.y)/f.height*f.height*L+h.y,e={box:f,ratio:L,points:u},i*=L,n*=L}return{centerX:r,centerY:s,radius:i,innerRadius:n,debug:e}}),[a,o,d,v,b,C,O]),E=h({data:r,startAngle:v,endAngle:b,innerRadius:P.innerRadius,outerRadius:P.radius,padAngle:A,sortByValue:R,activeId:W,activeInnerRadiusOffset:M,activeOuterRadiusOffset:T,hiddenIds:B}),D=i.useCallback((function(e){V((function(i){return i.indexOf(e)>-1?i.filter((function(i){return i!==e})):[].concat(i,[e])}))}),[]);return l({arcGenerator:t.useArcGenerator({cornerRadius:O,padAngle:n.degreesToRadians(A)}),setActiveId:w,toggleSerie:D},E,P)},p=function(e){var n=e.dataWithArc,t=e.arcGenerator,r=e.centerX,a=e.centerY,o=e.radius,s=e.innerRadius;return i.useMemo((function(){return{dataWithArc:n,arcGenerator:t,centerX:r,centerY:a,radius:o,innerRadius:s}}),[n,t,r,a,o,s])},A=function(e){var n=e.center,r=e.data,o=e.arcGenerator,s=e.borderWidth,l=e.borderColor,c=e.isInteractive,u=e.onClick,v=e.onMouseEnter,f=e.onMouseMove,g=e.onMouseLeave,L=e.setActiveId,h=e.tooltip,b=e.transitionMode,p=d.useTooltip(),A=p.showTooltipFromEvent,k=p.hideTooltip,R=i.useMemo((function(){if(c)return function(e,i){null==u||u(e,i)}}),[c,u]),m=i.useMemo((function(){if(c)return function(e,n){A(i.createElement(h,{datum:e}),n),L(e.id),null==v||v(e,n)}}),[c,A,L,v,h]),O=i.useMemo((function(){if(c)return function(e,n){A(i.createElement(h,{datum:e}),n),null==f||f(e,n)}}),[c,A,f,h]),x=i.useMemo((function(){if(c)return function(e,i){k(),L(null),null==g||g(e,i)}}),[c,k,L,g]);return a.jsx(t.ArcsLayer,{center:n,data:r,arcGenerator:o,borderWidth:s,borderColor:l,transitionMode:b,onClick:R,onMouseEnter:m,onMouseMove:O,onMouseLeave:x})},k=["isInteractive","animate","motionConfig","theme","renderWrapper"],R=function(e){var r=e.data,o=e.id,s=void 0===o?f.id:o,d=e.value,l=void 0===d?f.value:d,c=e.valueFormat,u=e.sortByValue,g=void 0===u?f.sortByValue:u,h=e.layers,k=void 0===h?f.layers:h,R=e.startAngle,m=void 0===R?f.startAngle:R,O=e.endAngle,x=void 0===O?f.endAngle:O,C=e.padAngle,I=void 0===C?f.padAngle:C,M=e.fit,y=void 0===M?f.fit:M,T=e.innerRadius,S=void 0===T?f.innerRadius:T,W=e.cornerRadius,w=void 0===W?f.cornerRadius:W,j=e.activeInnerRadiusOffset,B=void 0===j?f.activeInnerRadiusOffset:j,V=e.activeOuterRadiusOffset,P=void 0===V?f.activeOuterRadiusOffset:V,E=e.width,D=e.height,G=e.margin,F=e.colors,q=void 0===F?f.colors:F,H=e.borderWidth,X=void 0===H?f.borderWidth:H,Y=e.borderColor,_=void 0===Y?f.borderColor:Y,z=e.enableArcLabels,N=void 0===z?f.enableArcLabels:z,U=e.arcLabel,J=void 0===U?f.arcLabel:U,K=e.arcLabelsSkipAngle,Q=void 0===K?f.arcLabelsSkipAngle:K,Z=e.arcLabelsTextColor,$=void 0===Z?f.arcLabelsTextColor:Z,ee=e.arcLabelsRadiusOffset,ie=void 0===ee?f.arcLabelsRadiusOffset:ee,ne=e.arcLabelsComponent,te=e.enableArcLinkLabels,re=void 0===te?f.enableArcLinkLabels:te,ae=e.arcLinkLabel,oe=void 0===ae?f.arcLinkLabel:ae,se=e.arcLinkLabelsSkipAngle,de=void 0===se?f.arcLinkLabelsSkipAngle:se,le=e.arcLinkLabelsOffset,ce=void 0===le?f.arcLinkLabelsOffset:le,ue=e.arcLinkLabelsDiagonalLength,ve=void 0===ue?f.arcLinkLabelsDiagonalLength:ue,fe=e.arcLinkLabelsStraightLength,ge=void 0===fe?f.arcLinkLabelsStraightLength:fe,Le=e.arcLinkLabelsThickness,he=void 0===Le?f.arcLinkLabelsThickness:Le,be=e.arcLinkLabelsTextOffset,pe=void 0===be?f.arcLinkLabelsTextOffset:be,Ae=e.arcLinkLabelsTextColor,ke=void 0===Ae?f.arcLinkLabelsTextColor:Ae,Re=e.arcLinkLabelsColor,me=void 0===Re?f.arcLinkLabelsColor:Re,Oe=e.arcLinkLabelComponent,xe=e.defs,Ce=void 0===xe?f.defs:xe,Ie=e.fill,Me=void 0===Ie?f.fill:Ie,ye=e.isInteractive,Te=void 0===ye?f.isInteractive:ye,Se=e.onClick,We=e.onMouseEnter,we=e.onMouseMove,je=e.onMouseLeave,Be=e.tooltip,Ve=void 0===Be?f.tooltip:Be,Pe=e.transitionMode,Ee=void 0===Pe?f.transitionMode:Pe,De=e.legends,Ge=void 0===De?f.legends:De,Fe=e.role,qe=void 0===Fe?f.role:Fe,He=n.useDimensions(E,D,G),Xe=He.outerWidth,Ye=He.outerHeight,_e=He.margin,ze=He.innerWidth,Ne=He.innerHeight,Ue=L({data:r,id:s,value:l,valueFormat:c,colors:q}),Je=b({data:Ue,width:ze,height:Ne,fit:y,innerRadius:S,startAngle:m,endAngle:x,padAngle:I,sortByValue:g,cornerRadius:w,activeInnerRadiusOffset:B,activeOuterRadiusOffset:P}),Ke=Je.dataWithArc,Qe=Je.legendData,Ze=Je.arcGenerator,$e=Je.centerX,ei=Je.centerY,ii=Je.radius,ni=Je.innerRadius,ti=Je.setActiveId,ri=Je.toggleSerie,ai=n.bindDefs(Ce,Ke,Me),oi={arcLinkLabels:null,arcs:null,arcLabels:null,legends:null};re&&k.includes("arcLinkLabels")&&(oi.arcLinkLabels=a.jsx(t.ArcLinkLabelsLayer,{center:[$e,ei],data:Ke,label:oe,skipAngle:de,offset:ce,diagonalLength:ve,straightLength:ge,strokeWidth:he,textOffset:pe,textColor:ke,linkColor:me,component:Oe},"arcLinkLabels")),k.includes("arcs")&&(oi.arcs=a.jsx(A,{center:[$e,ei],data:Ke,arcGenerator:Ze,borderWidth:X,borderColor:_,isInteractive:Te,onClick:Se,onMouseEnter:We,onMouseMove:we,onMouseLeave:je,setActiveId:ti,tooltip:Ve,transitionMode:Ee},"arcs")),N&&k.includes("arcLabels")&&(oi.arcLabels=a.jsx(t.ArcLabelsLayer,{center:[$e,ei],data:Ke,label:J,radiusOffset:ie,skipAngle:Q,textColor:$,transitionMode:Ee,component:ne},"arcLabels")),Ge.length>0&&k.includes("legends")&&(oi.legends=a.jsx(v,{width:ze,height:Ne,data:Qe,legends:Ge,toggleSerie:ri},"legends"));var si=p({dataWithArc:Ke,arcGenerator:Ze,centerX:$e,centerY:ei,radius:ii,innerRadius:ni});return a.jsx(n.SvgWrapper,{width:Xe,height:Ye,margin:_e,defs:ai,role:qe,children:k.map((function(e,n){return void 0!==oi[e]?oi[e]:"function"==typeof e?a.jsx(i.Fragment,{children:i.createElement(e,si)},n):null}))})},m=function(e){var i=e.isInteractive,t=void 0===i?f.isInteractive:i,r=e.animate,o=void 0===r?f.animate:r,s=e.motionConfig,d=void 0===s?f.motionConfig:s,u=e.theme,v=e.renderWrapper,g=c(e,k);return a.jsx(n.Container,{animate:o,isInteractive:t,motionConfig:d,renderWrapper:v,theme:u,children:a.jsx(R,l({isInteractive:t},g))})},O=["isInteractive","theme","renderWrapper"],x=function(e){var o=e.data,c=e.id,u=void 0===c?f.id:c,v=e.value,g=void 0===v?f.value:v,h=e.valueFormat,p=e.sortByValue,A=void 0===p?f.sortByValue:p,k=e.startAngle,R=void 0===k?f.startAngle:k,m=e.endAngle,O=void 0===m?f.endAngle:m,x=e.padAngle,C=void 0===x?f.padAngle:x,I=e.fit,M=void 0===I?f.fit:I,y=e.innerRadius,T=void 0===y?f.innerRadius:y,S=e.cornerRadius,W=void 0===S?f.cornerRadius:S,w=e.activeInnerRadiusOffset,j=void 0===w?f.activeInnerRadiusOffset:w,B=e.activeOuterRadiusOffset,V=void 0===B?f.activeOuterRadiusOffset:B,P=e.width,E=e.height,D=e.margin,G=e.pixelRatio,F=void 0===G?1:G,q=e.colors,H=void 0===q?f.colors:q,X=e.borderWidth,Y=void 0===X?f.borderWidth:X,_=e.borderColor,z=void 0===_?f.borderColor:_,N=e.enableArcLabels,U=void 0===N?f.enableArcLabels:N,J=e.arcLabel,K=void 0===J?f.arcLabel:J,Q=e.arcLabelsSkipAngle,Z=void 0===Q?f.arcLabelsSkipAngle:Q,$=e.arcLabelsTextColor,ee=void 0===$?f.arcLabelsTextColor:$,ie=e.arcLabelsRadiusOffset,ne=void 0===ie?f.arcLabelsRadiusOffset:ie,te=e.enableArcLinkLabels,re=void 0===te?f.enableArcLinkLabels:te,ae=e.arcLinkLabel,oe=void 0===ae?f.arcLinkLabel:ae,se=e.arcLinkLabelsSkipAngle,de=void 0===se?f.arcLinkLabelsSkipAngle:se,le=e.arcLinkLabelsOffset,ce=void 0===le?f.arcLinkLabelsOffset:le,ue=e.arcLinkLabelsDiagonalLength,ve=void 0===ue?f.arcLinkLabelsDiagonalLength:ue,fe=e.arcLinkLabelsStraightLength,ge=void 0===fe?f.arcLinkLabelsStraightLength:fe,Le=e.arcLinkLabelsThickness,he=void 0===Le?f.arcLinkLabelsThickness:Le,be=e.arcLinkLabelsTextOffset,pe=void 0===be?f.arcLinkLabelsTextOffset:be,Ae=e.arcLinkLabelsTextColor,ke=void 0===Ae?f.arcLinkLabelsTextColor:Ae,Re=e.arcLinkLabelsColor,me=void 0===Re?f.arcLinkLabelsColor:Re,Oe=e.isInteractive,xe=void 0===Oe?f.isInteractive:Oe,Ce=e.onClick,Ie=e.onMouseMove,Me=e.tooltip,ye=void 0===Me?f.tooltip:Me,Te=e.legends,Se=void 0===Te?f.legends:Te,We=i.useRef(null),we=n.useTheme(),je=n.useDimensions(P,E,D),Be=je.margin,Ve=je.innerWidth,Pe=je.innerHeight,Ee=je.outerWidth,De=je.outerHeight,Ge=L({data:o,id:u,value:g,valueFormat:h,colors:H}),Fe=b({data:Ge,width:Ve,height:Pe,fit:M,innerRadius:T,startAngle:R,endAngle:O,padAngle:C,sortByValue:A,cornerRadius:W,activeInnerRadiusOffset:j,activeOuterRadiusOffset:V}),qe=Fe.dataWithArc,He=Fe.arcGenerator,Xe=Fe.centerX,Ye=Fe.centerY,_e=Fe.radius,ze=Fe.innerRadius,Ne=Fe.setActiveId,Ue=s.useInheritedColor(z,we),Je=t.useArcLabels({data:qe,label:K,skipAngle:Z,offset:ne,textColor:ee}),Ke=t.useArcLinkLabels({data:qe,skipAngle:de,offset:ce,diagonalLength:ve,straightLength:ge,label:oe,linkColor:me,textOffset:pe,textColor:ke});i.useEffect((function(){if(We.current){We.current.width=Ee*F,We.current.height=De*F;var e=We.current.getContext("2d");e.scale(F,F),e.fillStyle=we.background,e.fillRect(0,0,Ee,De),e.save(),e.translate(Be.left,Be.top),He.context(e),e.save(),e.translate(Xe,Ye),qe.forEach((function(i){e.beginPath(),e.fillStyle=i.color,e.strokeStyle=Ue(i),e.lineWidth=Y,He(i.arc),e.fill(),Y>0&&e.stroke()})),!0===re&&t.drawCanvasArcLinkLabels(e,Ke,we,he),!0===U&&t.drawCanvasArcLabels(e,Je,we),e.restore(),Se.forEach((function(i){r.renderLegendToCanvas(e,l({},i,{data:qe,containerWidth:Ve,containerHeight:Pe,theme:we}))}))}}),[We,Ve,Pe,Ee,De,Be.top,Be.left,F,Xe,Ye,He,qe,Ue,U,Je,re,Ke,he,Se,we]);var Qe=i.useMemo((function(){return qe.map((function(e){return l({id:e.id},e.arc)}))}),[qe]),Ze=function(e){if(!We.current)return null;var i=n.getRelativeCursor(We.current,e),r=i[0],a=i[1],o=t.findArcUnderCursor(Be.left+Xe,Be.top+Ye,_e,ze,Qe,r,a);return o?qe.find((function(e){return e.id===o.id})):null},$e=d.useTooltip(),ei=$e.showTooltipFromEvent,ii=$e.hideTooltip,ni=function(e){var n=Ze(e);n?(null==Ie||Ie(n,e),Ne(n.id),ei(i.createElement(ye,{datum:n}),e)):(Ne(null),ii())};return a.jsx("canvas",{ref:We,width:Ee*F,height:De*F,style:{width:Ee,height:De,cursor:xe?"auto":"normal"},onMouseEnter:xe?ni:void 0,onMouseMove:xe?ni:void 0,onMouseLeave:xe?function(){ii()}:void 0,onClick:xe?function(e){if(Ce){var i=Ze(e);i&&Ce(i,e)}}:void 0})},C=function(e){var i=e.isInteractive,t=void 0===i?f.isInteractive:i,r=e.theme,o=e.renderWrapper,s=c(e,O);return a.jsx(n.Container,{isInteractive:t,renderWrapper:o,theme:r,children:a.jsx(x,l({isInteractive:t},s))})};e.Pie=m,e.PieCanvas=C,e.ResponsivePie=function(e){return a.jsx(n.ResponsiveWrapper,{children:function(i){var n=i.width,t=i.height;return a.jsx(m,l({width:n,height:t},e))}})},e.ResponsivePieCanvas=function(e){return a.jsx(n.ResponsiveWrapper,{children:function(i){var n=i.width,t=i.height;return a.jsx(C,l({width:n,height:t},e))}})},e.defaultProps=f,e.useNormalizedData=L,e.usePie=function(e){var r=e.data,a=e.radius,o=e.innerRadius,s=e.startAngle,d=void 0===s?f.startAngle:s,c=e.endAngle,u=void 0===c?f.endAngle:c,v=e.padAngle,g=void 0===v?f.padAngle:v,L=e.sortByValue,b=void 0===L?f.sortByValue:L,p=e.cornerRadius,A=void 0===p?f.cornerRadius:p,k=e.activeInnerRadiusOffset,R=void 0===k?f.activeInnerRadiusOffset:k,m=e.activeOuterRadiusOffset,O=void 0===m?f.activeOuterRadiusOffset:m,x=i.useState(null),C=x[0],I=x[1],M=i.useState([]),y=M[0],T=M[1],S=h({data:r,startAngle:d,endAngle:u,innerRadius:o,outerRadius:a,padAngle:g,sortByValue:b,activeId:C,activeInnerRadiusOffset:R,activeOuterRadiusOffset:O,hiddenIds:y}),W=i.useCallback((function(e){T((function(i){return i.indexOf(e)>-1?i.filter((function(i){return i!==e})):[].concat(i,[e])}))}),[]);return l({},S,{arcGenerator:t.useArcGenerator({cornerRadius:A,padAngle:n.degreesToRadians(g)}),setActiveId:I,toggleSerie:W})},e.usePieArcs=h,e.usePieFromBox=b,e.usePieLayerContext=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-pie.umd.js.map
