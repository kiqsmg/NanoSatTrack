!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@nivo/core"),require("d3-scale"),require("d3-delaunay"),require("react/jsx-runtime")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","d3-scale","d3-delaunay","react/jsx-runtime"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.d3,e.d3,e["react/jsx-runtime"])}(this,(function(e,n,o,i,r,t){"use strict";function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},l.apply(this,arguments)}var u={xDomain:[0,1],yDomain:[0,1],layers:["links","cells","points","bounds"],enableLinks:!1,linkLineWidth:1,linkLineColor:"#bbbbbb",enableCells:!0,cellLineWidth:2,cellLineColor:"#000000",enablePoints:!0,pointSize:4,pointColor:"#666666",role:"img"},a=function(e){return"function"==typeof e?e:function(n){return n[e]}},s=function(e){var n=e.points,o=e.x,i=void 0===o?"x":o,r=e.y,t=void 0===r?"y":r,l=a(i),u=a(t);return n.map((function(e){return[l(e),u(e)]}))},d=function(e){var n=e.points,o=e.width,i=e.height,t=e.debug,l=r.Delaunay.from(n),u=t?l.voronoi([0,0,o,i]):void 0;return{delaunay:l,voronoi:u}},c=function(e){var o=e.points,i=e.x,r=e.y,t=e.width,l=e.height,u=e.debug,a=n.useMemo((function(){return s({points:o,x:i,y:r})}),[o,i,r]);return n.useMemo((function(){return d({points:a,width:t,height:l,debug:u})}),[a,t,l,u])},h=function(e){var o=e.data,t=e.width,l=e.height,u=e.xDomain,a=e.yDomain,s=n.useMemo((function(){return i.scaleLinear().domain(u).range([0,t])}),[u,t]),d=n.useMemo((function(){return i.scaleLinear().domain(a).range([0,l])}),[a,l]),c=n.useMemo((function(){return o.map((function(e){return{x:s(e.x),y:d(e.y),data:e}}))}),[o,s,d]);return n.useMemo((function(){var e=r.Delaunay.from(c.map((function(e){return[e.x,e.y]}))),n=e.voronoi([0,0,t,l]);return{points:c,delaunay:e,voronoi:n}}),[c,t,l])},f=function(e){var o=e.points,i=e.delaunay,r=e.voronoi;return n.useMemo((function(){return{points:o,delaunay:i,voronoi:r}}),[o,i,r])},v=["theme"],p=function(e){var i=e.data,r=e.width,l=e.height,a=e.margin,s=e.layers,d=void 0===s?u.layers:s,c=e.xDomain,v=void 0===c?u.xDomain:c,p=e.yDomain,y=void 0===p?u.yDomain:p,m=e.enableLinks,b=void 0===m?u.enableLinks:m,g=e.linkLineWidth,x=void 0===g?u.linkLineWidth:g,k=e.linkLineColor,C=void 0===k?u.linkLineColor:k,j=e.enableCells,M=void 0===j?u.enableCells:j,L=e.cellLineWidth,W=void 0===L?u.cellLineWidth:L,w=e.cellLineColor,D=void 0===w?u.cellLineColor:w,P=e.enablePoints,V=void 0===P?u.enableCells:P,S=e.pointSize,O=void 0===S?u.pointSize:S,q=e.pointColor,R=void 0===q?u.pointColor:q,T=e.role,z=void 0===T?u.role:T,E=o.useDimensions(r,l,a),A=E.outerWidth,F=E.outerHeight,H=E.margin,_=E.innerWidth,B=E.innerHeight,I=h({data:i,width:_,height:B,xDomain:v,yDomain:y}),G=I.points,J=I.delaunay,K=I.voronoi,N={links:null,cells:null,points:null,bounds:null};b&&d.includes("links")&&(N.links=t.jsx("path",{stroke:C,strokeWidth:x,fill:"none",d:J.render()},"links")),M&&d.includes("cells")&&(N.cells=t.jsx("path",{d:K.render(),fill:"none",stroke:D,strokeWidth:W},"cells")),V&&d.includes("points")&&(N.points=t.jsx("path",{stroke:"none",fill:R,d:J.renderPoints(void 0,O/2)},"points")),d.includes("bounds")&&(N.bounds=t.jsx("path",{fill:"none",stroke:D,strokeWidth:W,d:K.renderBounds()},"bounds"));var Q=f({points:G,delaunay:J,voronoi:K});return t.jsx(o.SvgWrapper,{width:A,height:F,margin:H,role:z,children:d.map((function(e,o){return void 0!==N[e]?N[e]:"function"==typeof e?t.jsx(n.Fragment,{children:n.createElement(e,Q)},o):null}))})},y=function(e){var n=e.theme,i=function(e,n){if(null==e)return{};var o,i,r={},t=Object.keys(e);for(i=0;i<t.length;i++)o=t[i],n.indexOf(o)>=0||(r[o]=e[o]);return r}(e,v);return t.jsx(o.Container,{isInteractive:!1,animate:!1,theme:n,children:t.jsx(p,l({},i))})};e.Mesh=function(e){var i=e.nodes,r=e.width,l=e.height,u=e.x,a=e.y,s=e.onMouseEnter,d=e.onMouseMove,h=e.onMouseLeave,f=e.onClick,v=e.debug,p=n.useRef(null),y=n.useState(null),m=y[0],b=y[1],g=c({points:i,x:u,y:a,width:r,height:l,debug:v}),x=g.delaunay,k=g.voronoi,C=n.useMemo((function(){if(v&&k)return k.render()}),[v,k]),j=n.useCallback((function(e){if(!p.current)return[null,null];var n=o.getRelativeCursor(p.current,e),r=n[0],t=n[1],l=x.find(r,t);return[l,void 0!==l?i[l]:null]}),[p,x]),M=n.useCallback((function(e){var n=j(e),o=n[0],i=n[1];b(o),i&&(null==s||s(i,e))}),[j,b,s]),L=n.useCallback((function(e){var n=j(e),o=n[0],i=n[1];b(o),i&&(null==d||d(i,e))}),[j,b,d]),W=n.useCallback((function(e){if(b(null),h){var n=void 0;null!==m&&(n=i[m]),n&&h(n,e)}}),[b,m,h,i]),w=n.useCallback((function(e){var n=j(e),o=n[0],i=n[1];b(o),i&&(null==f||f(i,e))}),[j,b,f]);return t.jsxs("g",{ref:p,children:[v&&k&&t.jsxs(t.Fragment,{children:[t.jsx("path",{d:C,stroke:"red",strokeWidth:1,opacity:.75}),null!==m&&t.jsx("path",{fill:"pink",opacity:.35,d:k.renderCell(m)})]}),t.jsx("rect",{width:r,height:l,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:M,onMouseMove:L,onMouseLeave:W,onClick:w})]})},e.ResponsiveVoronoi=function(e){return t.jsx(o.ResponsiveWrapper,{children:function(n){var o=n.width,i=n.height;return t.jsx(y,l({width:o,height:i},e))}})},e.Voronoi=y,e.computeMesh=d,e.computeMeshPoints=s,e.defaultVoronoiProps=u,e.renderVoronoiCellToCanvas=function(e,n,o){e.save(),e.globalAlpha=.35,e.beginPath(),n.renderCell(o,e),e.fillStyle="red",e.fill(),e.restore()},e.renderVoronoiToCanvas=function(e,n){e.save(),e.globalAlpha=.75,e.beginPath(),n.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},e.useVoronoi=h,e.useVoronoiLayerContext=f,e.useVoronoiMesh=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-voronoi.umd.js.map
