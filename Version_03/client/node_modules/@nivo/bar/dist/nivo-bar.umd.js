!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("@nivo/axes"),require("@nivo/annotations"),require("react/jsx-runtime"),require("@nivo/legends"),require("@nivo/core"),require("react"),require("@react-spring/web"),require("@nivo/tooltip"),require("@nivo/colors"),require("@nivo/scales"),require("d3-shape"),require("lodash/uniqBy")):"function"==typeof define&&define.amd?define(["exports","@nivo/axes","@nivo/annotations","react/jsx-runtime","@nivo/legends","@nivo/core","react","@react-spring/web","@nivo/tooltip","@nivo/colors","@nivo/scales","d3-shape","lodash/uniqBy"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.nivo,e.nivo,e["react/jsx-runtime"],e.nivo,e.nivo,e.React,e["@react-spring/web"],e.nivo,e.nivo,e.nivo,e.d3,e["lodash/uniqBy"])}(this,(function(e,a,i,t,n,r,o,l,d,u,s,c,h){"use strict";function b(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=b(h);function g(){return g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},g.apply(this,arguments)}function f(e,a){if(null==e)return{};var i,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],a.indexOf(i)>=0||(n[i]=e[i]);return n}var m,p=function(e){var a=e.bars,n=e.annotations,r=i.useAnnotations({data:a,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var a=e.height,i=e.width;return{width:i,height:a,size:Math.max(i,a)}}});return t.jsx(t.Fragment,{children:r.map((function(e,a){return t.jsx(i.Annotation,g({},e),a)}))})},x=function(e){var a=e.width,i=e.height,r=e.legends,o=e.toggleSerie;return t.jsx(t.Fragment,{children:r.map((function(e,r){var l,d=e[0],u=e[1];return t.jsx(n.BoxLegendSvg,g({},d,{containerWidth:a,containerHeight:i,data:null!=(l=d.data)?l:u,toggleSerie:d.toggleSerie&&"keys"===d.dataFrom?o:void 0}),r)}))})},y=["data"],S=function(e){var a,i=e.bar,n=i.data,u=f(i,y),s=e.style,c=s.borderColor,h=s.color,b=s.height,v=s.labelColor,m=s.labelOpacity,p=s.labelX,x=s.labelY,S=s.transform,k=s.width,C=e.borderRadius,L=e.borderWidth,w=e.label,V=e.shouldRenderLabel,M=e.isInteractive,B=e.onClick,W=e.onMouseEnter,T=e.onMouseLeave,I=e.tooltip,R=e.isFocusable,j=e.ariaLabel,P=e.ariaLabelledBy,E=e.ariaDescribedBy,F=r.useTheme(),H=d.useTooltip(),D=H.showTooltipFromEvent,A=H.showTooltipAt,q=H.hideTooltip,X=o.useMemo((function(){return function(){return o.createElement(I,g({},u,n))}}),[I,u,n]),Y=o.useCallback((function(e){null==B||B(g({color:u.color},n),e)}),[u,n,B]),O=o.useCallback((function(e){return D(X(),e)}),[D,X]),G=o.useCallback((function(e){null==W||W(n,e),D(X(),e)}),[n,W,D,X]),z=o.useCallback((function(e){null==T||T(n,e),q()}),[n,q,T]),K=o.useCallback((function(){A(X(),[u.absX+u.width/2,u.absY])}),[A,X,u]),N=o.useCallback((function(){q()}),[q]);return t.jsxs(l.animated.g,{transform:S,children:[t.jsx(l.animated.rect,{width:l.to(k,(function(e){return Math.max(e,0)})),height:l.to(b,(function(e){return Math.max(e,0)})),rx:C,ry:C,fill:null!=(a=n.fill)?a:h,strokeWidth:L,stroke:c,focusable:R,tabIndex:R?0:void 0,"aria-label":j?j(n):void 0,"aria-labelledby":P?P(n):void 0,"aria-describedby":E?E(n):void 0,onMouseEnter:M?G:void 0,onMouseMove:M?O:void 0,onMouseLeave:M?z:void 0,onClick:M?Y:void 0,onFocus:M&&R?K:void 0,onBlur:M&&R?N:void 0}),V&&t.jsx(l.animated.text,{x:p,y:x,textAnchor:"middle",dominantBaseline:"central",fillOpacity:m,style:g({},F.labels.text,{pointerEvents:"none",fill:v}),children:w})]})},k=["color","label"],C={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var a=e.color,i=e.label,n=f(e,k);return t.jsx(d.BasicTooltip,{id:i,value:n.formattedValue,enableChip:!0,color:a})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},L=g({},C,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:S,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),w=g({},C,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(m=window.devicePixelRatio)?m:1}),V=function(e,a,i,t,n,r){return s.computeScale(t,{all:e.map(a),min:0,max:0},n,r).padding(i)},M=function(e,a){return e.map((function(e){return g({},a.reduce((function(e,a){return e[a]=null,e}),{}),e)}))},B=function(e){return Object.keys(e).reduce((function(a,i){return e[i]&&(a[i]=e[i]),a}),{})},W=function(e){return[e,Number(e)]},T=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],I=function(e,a){return e>a},R=function(e,a){return e<a},j=function(e,a){return Array.from(" ".repeat(a-e),(function(a,i){return e+i}))},P=function(e){return I(e,0)?0:e},E=function(e,a,i,t){var n=e.data,r=e.formatValue,o=e.getColor,l=e.getIndex,d=e.getTooltipLabel,u=e.innerPadding,s=void 0===u?0:u,c=e.keys,h=e.xScale,b=e.yScale,v=e.margin,g=i?R:I,f=n.map(B),m=[];return c.forEach((function(e,i){return j(0,h.domain().length).forEach((function(u){var c,p,x,y=W(n[u][e]),S=y[0],k=y[1],C=l(n[u]),L=(null!=(c=h(C))?c:0)+a*i+s*i,w=g(p=k,0)?null!=(x=b(p))?x:0:t,V=function(e,a){var i;return g(e,0)?t-a:(null!=(i=b(e))?i:0)-t}(k,w),M={id:e,value:null===S?S:k,formattedValue:r(k),hidden:!1,index:u,indexValue:C,data:f[u]};m.push({key:e+"."+M.indexValue,index:m.length,data:M,x:L,y:w,absX:v.left+L,absY:v.top+w,width:a,height:V,color:o(M),label:d(M)})}))})),m},F=function(e,a,i,t){var n=e.data,r=e.formatValue,o=e.getIndex,l=e.getColor,d=e.getTooltipLabel,u=e.keys,s=e.innerPadding,c=void 0===s?0:s,h=e.xScale,b=e.yScale,v=e.margin,g=i?R:I,f=n.map(B),m=[];return u.forEach((function(e,i){return j(0,b.domain().length).forEach((function(u){var s,p,x,y=W(n[u][e]),S=y[0],k=y[1],C=o(n[u]),L=g(p=k,0)?t:null!=(x=h(p))?x:0,w=(null!=(s=b(C))?s:0)+a*i+c*i,V=function(e,a){var i;return g(e,0)?(null!=(i=h(e))?i:0)-t:t-a}(k,L),M={id:e,value:null===S?S:k,formattedValue:r(k),hidden:!1,index:u,indexValue:C,data:f[u]};m.push({key:e+"."+M.indexValue,index:m.length,data:M,x:L,y:w,absX:v.left+L,absY:v.top+w,width:V,height:a,color:l(M),label:d(M)})}))})),m},H=function(e){var a,i,t=e.layout,n=e.minValue,r=e.maxValue,o=e.reverse,l=e.width,d=e.height,u=e.padding,c=void 0===u?0:u,h=e.innerPadding,b=void 0===h?0:h,v=e.valueScale,m=e.indexScale,p=e.hiddenIds,x=void 0===p?[]:p,y=f(e,T),S=y.keys.filter((function(e){return!x.includes(e)})),k=M(y.data,S),C="vertical"===t?["y","x",l]:["x","y",d],L=C[0],w=C[1],B=C[2],W=V(k,y.getIndex,c,m,B,w),I=g({max:r,min:n,reverse:o},v),R="auto"===I.min?P:function(e){return e},j=k.reduce((function(e,a){return[].concat(e,S.map((function(e){return a[e]})))}),[]).filter(Boolean),H=R(Math.min.apply(Math,j)),D=(i=Math.max.apply(Math,j),isFinite(i)?i:0),A=s.computeScale(I,{all:j,min:H,max:D},"x"===L?l:d,L),q="vertical"===t?[W,A]:[A,W],X=q[0],Y=q[1],O=(W.bandwidth()-b*(S.length-1))/S.length,G=[g({},y,{data:k,keys:S,innerPadding:b,xScale:X,yScale:Y}),O,I.reverse,null!=(a=A(0))?a:0];return{xScale:X,yScale:Y,bars:O>0?"vertical"===t?E.apply(void 0,G):F.apply(void 0,G):[]}},D=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],A=function e(a){var i;return a.some(Array.isArray)?e((i=[]).concat.apply(i,a)):a},q=function(e,a,i){var t=e.formatValue,n=e.getColor,r=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return u.domain().forEach((function(d,b){var v,g,f=e[b],m=null!=(v=u(r(f.data)))?v:0,p=(null!=(g=function(e){return s(e[i?0:1])}(f))?g:0)+.5*l,x=function(e,a){var t;return(null!=(t=s(e[i?1:0]))?t:0)-a}(f,p)-l,y=W(f.data[e.key]),S=y[0],k=y[1],C={id:e.key,value:null===S?S:k,formattedValue:t(k),hidden:!1,index:b,indexValue:d,data:B(f.data)};h.push({key:e.key+"."+d,index:h.length,data:C,x:m,y:p,absX:c.left+m,absY:c.top+p,width:a,height:x,color:n(C),label:o(C)})}))})),h},X=function(e,a,i){var t=e.formatValue,n=e.getColor,r=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return s.domain().forEach((function(d,b){var v,g,f=e[b],m=null!=(v=s(r(f.data)))?v:0,p=(null!=(g=function(e){return u(e[i?1:0])}(f))?g:0)+.5*l,x=function(e,a){var t;return(null!=(t=u(e[i?0:1]))?t:0)-a}(f,p)-l,y=W(f.data[e.key]),S=y[0],k=y[1],C={id:e.key,value:null===S?S:k,formattedValue:t(k),hidden:!1,index:b,indexValue:d,data:B(f.data)};h.push({key:e.key+"."+d,index:h.length,data:C,x:p,y:m,absX:c.left+p,absY:c.top+m,width:x,height:a,color:n(C),label:o(C)})}))})),h},Y=function(e){var a,i=e.data,t=e.layout,n=e.minValue,r=e.maxValue,o=e.reverse,l=e.width,d=e.height,u=e.padding,h=void 0===u?0:u,b=e.valueScale,v=e.indexScale,m=e.hiddenIds,p=void 0===m?[]:m,x=f(e,D),y=x.keys.filter((function(e){return!p.includes(e)})),S=c.stack().keys(y).offset(c.stackOffsetDiverging)(M(i,y)),k="vertical"===t?["y","x",l]:["x","y",d],C=k[0],L=k[1],w=k[2],B=V(i,x.getIndex,h,v,w,L),W=g({max:r,min:n,reverse:o},b),T=(a=A(S),"log"===b.type?a.filter((function(e){return 0!==e})):a),I=Math.min.apply(Math,T),R=Math.max.apply(Math,T),j=s.computeScale(W,{all:T,min:I,max:R},"x"===C?l:d,C),P="vertical"===t?[B,j]:[j,B],E=P[0],F=P[1],H=x.innerPadding>0?x.innerPadding:0,Y=B.bandwidth(),O=[g({},x,{innerPadding:H,stackedData:S,xScale:E,yScale:F}),Y,W.reverse];return{xScale:E,yScale:F,bars:Y>0?"vertical"===t?q.apply(void 0,O):X.apply(void 0,O):[]}},O=function(e){var a=e.bars,i=e.direction,t=e.from,n=e.groupMode,o=e.layout,l=e.legendLabel,d=e.reverse,u=r.getPropertyAccessor(null!=l?l:"indexes"===t?"indexValue":"id");return"indexes"===t?function(e,a,i){var t=v.default(e.map((function(e){var a,t;return{id:null!=(a=e.data.indexValue)?a:"",label:i(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return"horizontal"===a&&t.reverse(),t}(a,o,u):function(e,a,i,t,n,r){var o=v.default(e.map((function(e){var a;return{id:e.data.id,label:r(e.data),hidden:e.data.hidden,color:null!=(a=e.color)?a:"#000"}})),(function(e){return e.id}));return("vertical"===a&&"stacked"===t&&"column"===i&&!0!==n||"horizontal"===a&&"stacked"===t&&!0===n)&&o.reverse(),o}(a,o,i,n,d,u)},G=function(e){var a=e.indexBy,i=void 0===a?C.indexBy:a,t=e.keys,n=void 0===t?C.keys:t,l=e.label,d=void 0===l?C.label:l,s=e.tooltipLabel,c=void 0===s?C.tooltipLabel:s,h=e.valueFormat,b=e.colors,v=void 0===b?C.colors:b,f=e.colorBy,m=void 0===f?C.colorBy:f,p=e.borderColor,x=void 0===p?C.borderColor:p,y=e.labelTextColor,S=void 0===y?C.labelTextColor:y,k=e.groupMode,L=void 0===k?C.groupMode:k,w=e.layout,V=void 0===w?C.layout:w,M=e.reverse,B=void 0===M?C.reverse:M,W=e.data,T=e.minValue,I=void 0===T?C.minValue:T,R=e.maxValue,j=void 0===R?C.maxValue:R,P=e.margin,E=e.width,F=e.height,D=e.padding,A=void 0===D?C.padding:D,q=e.innerPadding,X=void 0===q?C.innerPadding:q,G=e.valueScale,z=void 0===G?C.valueScale:G,K=e.indexScale,N=void 0===K?C.indexScale:K,_=e.initialHiddenIds,J=void 0===_?C.initialHiddenIds:_,Q=e.enableLabel,U=void 0===Q?C.enableLabel:Q,Z=e.labelSkipWidth,$=void 0===Z?C.labelSkipWidth:Z,ee=e.labelSkipHeight,ae=void 0===ee?C.labelSkipHeight:ee,ie=e.legends,te=void 0===ie?C.legends:ie,ne=e.legendLabel,re=o.useState(null!=J?J:[]),oe=re[0],le=re[1],de=o.useCallback((function(e){le((function(a){return a.indexOf(e)>-1?a.filter((function(a){return a!==e})):[].concat(a,[e])}))}),[]),ue=r.usePropertyAccessor(i),se=r.usePropertyAccessor(d),ce=r.usePropertyAccessor(c),he=r.useValueFormatter(h),be=r.useTheme(),ve=u.useOrdinalColorScale(v,m),ge=u.useInheritedColor(x,be),fe=u.useInheritedColor(S,be),me=("grouped"===L?H:Y)({layout:V,reverse:B,data:W,getIndex:ue,keys:n,minValue:I,maxValue:j,width:E,height:F,getColor:ve,padding:A,innerPadding:X,valueScale:z,indexScale:N,hiddenIds:oe,formatValue:he,getTooltipLabel:ce,margin:P}),pe=me.bars,xe=me.xScale,ye=me.yScale,Se=o.useMemo((function(){return pe.filter((function(e){return null!==e.data.value})).map((function(e,a){return g({},e,{index:a})}))}),[pe]),ke=o.useCallback((function(e){var a=e.width,i=e.height;return!!U&&(!($>0&&a<$)&&!(ae>0&&i<ae))}),[U,$,ae]),Ce=o.useMemo((function(){return n.map((function(e){var a=pe.find((function(a){return a.data.id===e}));return g({},a,{data:g({id:e},null==a?void 0:a.data,{hidden:oe.includes(e)})})}))}),[oe,n,pe]),Le=o.useMemo((function(){return te.map((function(e){return[e,O({bars:"keys"===e.dataFrom?Ce:pe,direction:e.direction,from:e.dataFrom,groupMode:L,layout:V,legendLabel:ne,reverse:B})]}))}),[te,Ce,pe,L,V,ne,B]);return{bars:pe,barsWithValue:Se,xScale:xe,yScale:ye,getIndex:ue,getLabel:se,getTooltipLabel:ce,formatValue:he,getColor:ve,getBorderColor:ge,getLabelColor:fe,shouldRenderBarLabel:ke,hiddenIds:oe,toggleSerie:de,legendsWithData:Le}},z=["isInteractive","animate","motionConfig","theme","renderWrapper"],K=function(e){var i=e.data,n=e.indexBy,d=e.keys,u=e.margin,s=e.width,c=e.height,h=e.groupMode,b=e.layout,v=e.reverse,f=e.minValue,m=e.maxValue,y=e.valueScale,S=e.indexScale,k=e.padding,C=e.innerPadding,w=e.axisTop,V=e.axisRight,M=e.axisBottom,B=void 0===M?L.axisBottom:M,W=e.axisLeft,T=void 0===W?L.axisLeft:W,I=e.enableGridX,R=void 0===I?L.enableGridX:I,j=e.enableGridY,P=void 0===j?L.enableGridY:j,E=e.gridXValues,F=e.gridYValues,H=e.layers,D=void 0===H?L.layers:H,A=e.barComponent,q=void 0===A?L.barComponent:A,X=e.enableLabel,Y=void 0===X?L.enableLabel:X,O=e.label,z=e.labelSkipWidth,K=void 0===z?L.labelSkipWidth:z,N=e.labelSkipHeight,_=void 0===N?L.labelSkipHeight:N,J=e.labelTextColor,Q=e.markers,U=void 0===Q?L.markers:Q,Z=e.colorBy,$=e.colors,ee=e.defs,ae=void 0===ee?L.defs:ee,ie=e.fill,te=void 0===ie?L.fill:ie,ne=e.borderRadius,re=void 0===ne?L.borderRadius:ne,oe=e.borderWidth,le=void 0===oe?L.borderWidth:oe,de=e.borderColor,ue=e.annotations,se=void 0===ue?L.annotations:ue,ce=e.legendLabel,he=e.tooltipLabel,be=e.valueFormat,ve=e.isInteractive,ge=void 0===ve?L.isInteractive:ve,fe=e.tooltip,me=void 0===fe?L.tooltip:fe,pe=e.onClick,xe=e.onMouseEnter,ye=e.onMouseLeave,Se=e.legends,ke=e.role,Ce=void 0===ke?L.role:ke,Le=e.ariaLabel,we=e.ariaLabelledBy,Ve=e.ariaDescribedBy,Me=e.isFocusable,Be=void 0===Me?L.isFocusable:Me,We=e.barAriaLabel,Te=e.barAriaLabelledBy,Ie=e.barAriaDescribedBy,Re=e.initialHiddenIds,je=r.useMotionConfig(),Pe=je.animate,Ee=je.config,Fe=r.useDimensions(s,c,u),He=Fe.outerWidth,De=Fe.outerHeight,Ae=Fe.margin,qe=Fe.innerWidth,Xe=Fe.innerHeight,Ye=G({indexBy:n,label:O,tooltipLabel:he,valueFormat:be,colors:$,colorBy:Z,borderColor:de,labelTextColor:J,groupMode:h,layout:b,reverse:v,data:i,keys:d,minValue:f,maxValue:m,margin:Ae,width:qe,height:Xe,padding:k,innerPadding:C,valueScale:y,indexScale:S,enableLabel:Y,labelSkipWidth:K,labelSkipHeight:_,legends:Se,legendLabel:ce,initialHiddenIds:Re}),Oe=Ye.bars,Ge=Ye.barsWithValue,ze=Ye.xScale,Ke=Ye.yScale,Ne=Ye.getLabel,_e=Ye.getTooltipLabel,Je=Ye.getBorderColor,Qe=Ye.getLabelColor,Ue=Ye.shouldRenderBarLabel,Ze=Ye.toggleSerie,$e=Ye.legendsWithData,ea=l.useTransition(Ge,{keys:function(e){return e.key},from:function(e){return g({borderColor:Je(e),color:e.color,height:0,labelColor:Qe(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===b?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:Je(e),color:e.color,height:e.height,labelColor:Qe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:Je(e),color:e.color,height:e.height,labelColor:Qe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return g({borderColor:Je(e),color:e.color,height:0,labelColor:Qe(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===b?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:Ee,immediate:!Pe}),aa=o.useMemo((function(){return{borderRadius:re,borderWidth:le,enableLabel:Y,isInteractive:ge,labelSkipWidth:K,labelSkipHeight:_,onClick:pe,onMouseEnter:xe,onMouseLeave:ye,getTooltipLabel:_e,tooltip:me,isFocusable:Be,ariaLabel:We,ariaLabelledBy:Te,ariaDescribedBy:Ie}}),[re,le,Y,_e,ge,_,K,pe,xe,ye,me,Be,We,Te,Ie]),ia=r.bindDefs(ae,Oe,te,{dataKey:"data",targetKey:"data.fill"}),ta={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};D.includes("annotations")&&(ta.annotations=t.jsx(p,{bars:Oe,annotations:se},"annotations")),D.includes("axes")&&(ta.axes=t.jsx(a.Axes,{xScale:ze,yScale:Ke,width:qe,height:Xe,top:w,right:V,bottom:B,left:T},"axes")),D.includes("bars")&&(ta.bars=t.jsx(o.Fragment,{children:ea((function(e,a){return o.createElement(q,g({},aa,{bar:a,style:e,shouldRenderLabel:Ue(a),label:Ne(a.data)}))}))},"bars")),D.includes("grid")&&(ta.grid=t.jsx(a.Grid,{width:qe,height:Xe,xScale:R?ze:null,yScale:P?Ke:null,xValues:E,yValues:F},"grid")),D.includes("legends")&&(ta.legends=t.jsx(x,{width:qe,height:Xe,legends:$e,toggleSerie:Ze},"legends")),D.includes("markers")&&(ta.markers=t.jsx(r.CartesianMarkers,{markers:U,width:qe,height:Xe,xScale:ze,yScale:Ke},"markers"));var na=o.useMemo((function(){return g({},aa,{margin:Ae,width:s,height:c,innerWidth:qe,innerHeight:Xe,bars:Oe,legendData:$e,enableLabel:Y,xScale:ze,yScale:Ke,tooltip:me,getTooltipLabel:_e,onClick:pe,onMouseEnter:xe,onMouseLeave:ye})}),[aa,Ae,s,c,qe,Xe,Oe,$e,Y,ze,Ke,me,_e,pe,xe,ye]);return t.jsx(r.SvgWrapper,{width:He,height:De,margin:Ae,defs:ia,role:Ce,ariaLabel:Le,ariaLabelledBy:we,ariaDescribedBy:Ve,isFocusable:Be,children:D.map((function(e,a){var i;return"function"==typeof e?t.jsx(o.Fragment,{children:o.createElement(e,na)},a):null!=(i=null==ta?void 0:ta[e])?i:null}))})},N=function(e){var a=e.isInteractive,i=void 0===a?L.isInteractive:a,n=e.animate,o=void 0===n?L.animate:n,l=e.motionConfig,d=void 0===l?L.motionConfig:l,u=e.theme,s=e.renderWrapper,c=f(e,z);return t.jsx(r.Container,{animate:o,isInteractive:i,motionConfig:d,renderWrapper:s,theme:u,children:t.jsx(K,g({isInteractive:i},c))})},_=["isInteractive","renderWrapper","theme"],J=function(e,a,i,t){return e.find((function(e){return r.isCursorInRect(e.x+a.left,e.y+a.top,e.width,e.height,i,t)}))},Q=function(e){var l=e.data,u=e.indexBy,s=e.keys,c=e.margin,h=e.width,b=e.height,v=e.groupMode,f=e.layout,m=e.reverse,p=e.minValue,x=e.maxValue,y=e.valueScale,S=e.indexScale,k=e.padding,C=e.innerPadding,L=e.axisTop,V=e.axisRight,M=e.axisBottom,B=void 0===M?w.axisBottom:M,W=e.axisLeft,T=void 0===W?w.axisLeft:W,I=e.enableGridX,R=void 0===I?w.enableGridX:I,j=e.enableGridY,P=void 0===j?w.enableGridY:j,E=e.gridXValues,F=e.gridYValues,H=e.layers,D=void 0===H?w.layers:H,A=e.renderBar,q=void 0===A?function(e,a){var i=a.bar,t=i.color,n=i.height,r=i.width,o=i.x,l=i.y,d=a.borderColor,u=a.borderRadius,s=a.borderWidth,c=a.label,h=a.labelColor,b=a.shouldRenderLabel;if(e.fillStyle=t,s>0&&(e.strokeStyle=d,e.lineWidth=s),e.beginPath(),u>0){var v=Math.min(u,n);e.moveTo(o+v,l),e.lineTo(o+r-v,l),e.quadraticCurveTo(o+r,l,o+r,l+v),e.lineTo(o+r,l+n-v),e.quadraticCurveTo(o+r,l+n,o+r-v,l+n),e.lineTo(o+v,l+n),e.quadraticCurveTo(o,l+n,o,l+n-v),e.lineTo(o,l+v),e.quadraticCurveTo(o,l,o+v,l),e.closePath()}else e.rect(o,l,r,n);e.fill(),s>0&&e.stroke(),b&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=h,e.fillText(c,o+r/2,l+n/2))}:A,X=e.enableLabel,Y=void 0===X?w.enableLabel:X,O=e.label,z=e.labelSkipWidth,K=void 0===z?w.labelSkipWidth:z,N=e.labelSkipHeight,_=void 0===N?w.labelSkipHeight:N,Q=e.labelTextColor,U=e.colorBy,Z=e.colors,$=e.borderRadius,ee=void 0===$?w.borderRadius:$,ae=e.borderWidth,ie=void 0===ae?w.borderWidth:ae,te=e.borderColor,ne=e.annotations,re=void 0===ne?w.annotations:ne,oe=e.legendLabel,le=e.tooltipLabel,de=e.valueFormat,ue=e.isInteractive,se=void 0===ue?w.isInteractive:ue,ce=e.tooltip,he=void 0===ce?w.tooltip:ce,be=e.onClick,ve=e.onMouseEnter,ge=e.onMouseLeave,fe=e.legends,me=e.pixelRatio,pe=void 0===me?w.pixelRatio:me,xe=e.canvasRef,ye=o.useRef(null),Se=r.useTheme(),ke=r.useDimensions(h,b,c),Ce=ke.margin,Le=ke.innerWidth,we=ke.innerHeight,Ve=ke.outerWidth,Me=ke.outerHeight,Be=G({indexBy:u,label:O,tooltipLabel:le,valueFormat:de,colors:Z,colorBy:U,borderColor:te,labelTextColor:Q,groupMode:v,layout:f,reverse:m,data:l,keys:s,minValue:p,maxValue:x,margin:Ce,width:Le,height:we,padding:k,innerPadding:C,valueScale:y,indexScale:S,enableLabel:Y,labelSkipWidth:K,labelSkipHeight:_,legends:fe,legendLabel:oe}),We=Be.bars,Te=Be.barsWithValue,Ie=Be.xScale,Re=Be.yScale,je=Be.getLabel,Pe=Be.getTooltipLabel,Ee=Be.getBorderColor,Fe=Be.getLabelColor,He=Be.shouldRenderBarLabel,De=Be.legendsWithData,Ae=d.useTooltip(),qe=Ae.showTooltipFromEvent,Xe=Ae.hideTooltip,Ye=i.useComputedAnnotations({annotations:i.useAnnotations({data:We,annotations:re,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var a=e.width,i=e.height;return{width:a,height:i,size:Math.max(a,i)}}})}),Oe=o.useMemo((function(){return{borderRadius:ee,borderWidth:ie,isInteractive:se,isFocusable:!1,labelSkipWidth:K,labelSkipHeight:_,margin:Ce,width:h,height:b,innerWidth:Le,innerHeight:we,bars:We,legendData:De,enableLabel:Y,xScale:Ie,yScale:Re,tooltip:he,getTooltipLabel:Pe,onClick:be,onMouseEnter:ve,onMouseLeave:ge}}),[ee,ie,se,K,_,Ce,h,b,Le,we,We,De,Y,Ie,Re,he,Pe,be,ve,ge]);o.useEffect((function(){var e,t=null==(e=ye.current)?void 0:e.getContext("2d");ye.current&&t&&(ye.current.width=Ve*pe,ye.current.height=Me*pe,t.scale(pe,pe),t.fillStyle=Se.background,t.fillRect(0,0,Ve,Me),t.translate(Ce.left,Ce.top),D.forEach((function(e){"grid"===e?"number"==typeof Se.grid.line.strokeWidth&&Se.grid.line.strokeWidth>0&&(t.lineWidth=Se.grid.line.strokeWidth,t.strokeStyle=Se.grid.line.stroke,R&&a.renderGridLinesToCanvas(t,{width:h,height:b,scale:Ie,axis:"x",values:E}),P&&a.renderGridLinesToCanvas(t,{width:h,height:b,scale:Re,axis:"y",values:F})):"axes"===e?a.renderAxesToCanvas(t,{xScale:Ie,yScale:Re,width:Le,height:we,top:L,right:V,bottom:B,left:T,theme:Se}):"bars"===e?Te.forEach((function(e){q(t,{bar:e,borderColor:Ee(e),borderRadius:ee,borderWidth:ie,label:je(e.data),labelColor:Fe(e),shouldRenderLabel:He(e)})})):"legends"===e?De.forEach((function(e){var a=e[0],i=e[1];n.renderLegendToCanvas(t,g({},a,{data:i,containerWidth:Le,containerHeight:we,theme:Se}))})):"annotations"===e?i.renderAnnotationsToCanvas(t,{annotations:Ye,theme:Se}):"function"==typeof e&&e(t,Oe)})),t.save())}),[B,T,V,L,Te,ee,ie,Ye,R,P,Ee,je,Fe,E,F,v,b,we,Le,Oe,D,f,De,Ce.left,Ce.top,Me,Ve,pe,q,Ie,Re,m,He,Se,h]);var Ge=o.useCallback((function(e){if(We&&ye.current){var a=r.getRelativeCursor(ye.current,e),i=a[0],t=a[1],n=J(We,Ce,i,t);void 0!==n?(qe(o.createElement(he,g({},n.data,{color:n.color,label:n.label,value:Number(n.data.value)})),e),"mouseenter"===e.type&&(null==ve||ve(n.data,e))):Xe()}}),[Xe,Ce,ve,We,qe,he]),ze=o.useCallback((function(e){if(We&&ye.current){Xe();var a=r.getRelativeCursor(ye.current,e),i=a[0],t=a[1],n=J(We,Ce,i,t);n&&(null==ge||ge(n.data,e))}}),[Xe,Ce,ge,We]),Ke=o.useCallback((function(e){if(We&&ye.current){var a=r.getRelativeCursor(ye.current,e),i=a[0],t=a[1],n=J(We,Ce,i,t);void 0!==n&&(null==be||be(g({},n.data,{color:n.color}),e))}}),[Ce,be,We]);return t.jsx("canvas",{ref:function(e){ye.current=e,xe&&"current"in xe&&(xe.current=e)},width:Ve*pe,height:Me*pe,style:{width:Ve,height:Me,cursor:se?"auto":"normal"},onMouseEnter:se?Ge:void 0,onMouseMove:se?Ge:void 0,onMouseLeave:se?ze:void 0,onClick:se?Ke:void 0})},U=o.forwardRef((function(e,a){var i=e.isInteractive,n=e.renderWrapper,o=e.theme,l=f(e,_);return t.jsx(r.Container,{isInteractive:i,renderWrapper:n,theme:o,animate:!1,children:t.jsx(Q,g({},l,{canvasRef:a}))})})),Z=o.forwardRef((function(e,a){return t.jsx(r.ResponsiveWrapper,{children:function(i){var n=i.width,r=i.height;return t.jsx(U,g({width:n,height:r},e,{ref:a}))}})}));e.Bar=N,e.BarCanvas=U,e.BarItem=S,e.ResponsiveBar=function(e){return t.jsx(r.ResponsiveWrapper,{children:function(a){var i=a.width,n=a.height;return t.jsx(N,g({width:i,height:n},e))}})},e.ResponsiveBarCanvas=Z,e.canvasDefaultProps=w,e.defaultProps=C,e.svgDefaultProps=L,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-bar.umd.js.map
