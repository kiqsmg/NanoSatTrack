!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@react-spring/web"),require("@nivo/core"),require("react/jsx-runtime"),require("react"),require("@nivo/colors"),require("d3-shape")):"function"==typeof define&&define.amd?define(["exports","@react-spring/web","@nivo/core","react/jsx-runtime","react","@nivo/colors","d3-shape"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e["@react-spring/web"],e.nivo,e["react/jsx-runtime"],e.React,e.nivo,e.d3)}(this,(function(e,n,t,r,i,o,a){"use strict";function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(this,arguments)}var s={pointerEvents:"none"},l=function(e){var i=e.label,o=e.style,a=t.useTheme();return r.jsx(n.animated.g,{transform:o.transform,opacity:o.progress,style:s,children:r.jsx(n.animated.text,{textAnchor:"middle",dominantBaseline:"central",style:u({},a.labels.text,{fill:o.textColor}),children:i})})},d=function(e){var n=e%(2*Math.PI);return n<0&&(n+=2*Math.PI),n},c=function(e,n){return e.filter((function(e){return Math.abs(t.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=n}))},f=function(e,n,t,r,i){return["A",e,e,0,n,t,r,i].join(" ")},g={startAngle:{enter:function(e){return u({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return u({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return u({},e,{startAngle:n,endAngle:n})},update:function(e){return e},leave:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return u({},e,{startAngle:n,endAngle:n})}},endAngle:{enter:function(e){return u({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return u({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return u({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return u({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return u({},e,{innerRadius:n,outerRadius:n})},update:function(e){return e},leave:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return u({},e,{innerRadius:n,outerRadius:n})}},outerRadius:{enter:function(e){return u({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return u({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return u({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return u({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return u({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return u({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},p=function(e,n){return i.useMemo((function(){var t=g[e];return{enter:function(e){return u({progress:0},t.enter(e.arc),n?n.enter(e):{})},update:function(e){return u({progress:1},t.update(e.arc),n?n.update(e):{})},leave:function(e){return u({progress:0},t.leave(e.arc),n?n.leave(e):{})}}}),[e,n])},A=function(e,n){var r=t.midAngle(e)-Math.PI/2,i=e.innerRadius+(e.outerRadius-e.innerRadius)*n;return t.positionFromAngle(r,i)},h=function(e){return function(t,r,i,o){return n.to([t,r,i,o],(function(n,t,r,i){var o=A({startAngle:n,endAngle:t,innerRadius:r,outerRadius:i},e);return"translate("+o.x+","+o.y+")"}))}},v=function(e,r,i,o){void 0===r&&(r=.5),void 0===i&&(i="innerRadius");var a=t.useMotionConfig(),u=a.animate,s=a.config,l=p(i,o);return{transition:n.useTransition(e,{keys:function(e){return e.id},initial:l.update,from:l.enter,enter:l.update,update:l.update,leave:l.leave,config:s,immediate:!u}),interpolate:h(r)}},x=function(e){var n=e.data,t=e.offset,r=void 0===t?.5:t,o=e.skipAngle,a=void 0===o?0:o,s=e.computeExtraProps,l=void 0===s?function(){return{}}:s;return i.useMemo((function(){return c(n,a).map((function(e){var n=A(e.arc,r);return u({},l(e),{x:n.x,y:n.y,data:e})}))}),[n,r,a,l])},m=l,R=function(e){var i=e.label,o=e.style,a=t.useTheme();return r.jsxs(n.animated.g,{opacity:o.opacity,children:[r.jsx(n.animated.path,{fill:"none",stroke:o.linkColor,strokeWidth:o.thickness,d:o.path}),r.jsx(n.animated.text,{transform:o.textPosition,textAnchor:o.textAnchor,dominantBaseline:"central",style:u({},a.labels.text,{fill:o.textColor}),children:i})]})},y=function(e){var n=d(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return n<Math.PI/2||n>1.5*Math.PI?"start":"end"},C=function(e,n,r,i){var o,a,u=d(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),s=t.positionFromAngle(u,e.outerRadius+n),l=t.positionFromAngle(u,e.outerRadius+n+r);return u<Math.PI/2||u>1.5*Math.PI?(o="after",a={x:l.x+i,y:l.y}):(o="before",a={x:l.x-i,y:l.y}),{side:o,points:[s,l,a]}},M=a.line().x((function(e){return e.x})).y((function(e){return e.y})),b=function(e,t,r,i,o,a,u){return n.to([e,t,r,i,o,a,u],(function(e,n,t,r,i,o,a){var u=C({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r},i,o,a).points;return M(u)}))},k=function(e,t,r,i){return n.to([e,t,r,i],(function(e,n,t,r){return y({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r})}))},L=function(e,t,r,i,o,a,u,s){return n.to([e,t,r,i,o,a,u,s],(function(e,n,t,r,i,o,a,u){var s=C({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r},i,o,a),l=s.points,d=s.side,c=l[2];return"before"===d?c.x-=u:c.x+=u,"translate("+c.x+","+c.y+")"}))},T=function(e){var r=e.data,a=e.offset,u=void 0===a?0:a,s=e.diagonalLength,l=e.straightLength,d=e.skipAngle,f=void 0===d?0:d,g=e.textOffset,p=e.linkColor,A=e.textColor,h=t.useMotionConfig(),v=h.animate,x=h.config,m=t.useTheme(),R=o.useInheritedColor(p,m),y=o.useInheritedColor(A,m),C=function(e,n){return i.useMemo((function(){return c(e,n)}),[e,n])}(r,f),M=function(e){var n=e.offset,t=e.diagonalLength,r=e.straightLength,o=e.textOffset,a=e.getLinkColor,u=e.getTextColor;return i.useMemo((function(){return{enter:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:0,straightLength:0,textOffset:o,linkColor:a(e),textColor:u(e),opacity:0}},update:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:t,straightLength:r,textOffset:o,linkColor:a(e),textColor:u(e),opacity:1}},leave:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:0,straightLength:0,textOffset:o,linkColor:a(e),textColor:u(e),opacity:0}}}}),[t,r,o,a,u])}({offset:u,diagonalLength:s,straightLength:l,textOffset:g,getLinkColor:R,getTextColor:y});return{transition:n.useTransition(C,{keys:function(e){return e.id},initial:M.update,from:M.enter,enter:M.update,update:M.update,leave:M.leave,config:x,immediate:!v}),interpolateLink:b,interpolateTextAnchor:k,interpolateTextPosition:L}},P=function(e){var n=e.data,r=e.skipAngle,o=void 0===r?0:r,a=e.offset,s=void 0===a?.5:a,l=e.diagonalLength,d=e.straightLength,c=e.computeExtraProps,f=void 0===c?function(){return{}}:c,g=i.useMemo((function(){return n.filter((function(e){return Math.abs(t.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=o})).map((function(e){return u({},C(e.arc,s,l,d),{data:e})}))}),[n,o,s,l,d]);return i.useMemo((function(){return g.map((function(e){return u({},f(e),e)}))}),[g,f])},j=R,I=["animated"],O=function(e){var t=e.datum,o=e.style,a=e.onClick,u=e.onMouseEnter,s=e.onMouseMove,l=e.onMouseLeave,d=i.useCallback((function(e){return null==a?void 0:a(t,e)}),[a,t]),c=i.useCallback((function(e){return null==u?void 0:u(t,e)}),[u,t]),f=i.useCallback((function(e){return null==s?void 0:s(t,e)}),[s,t]),g=i.useCallback((function(e){return null==l?void 0:l(t,e)}),[l,t]);return r.jsx(n.animated.path,{d:o.path,opacity:o.opacity,fill:t.fill||o.color,stroke:o.borderColor,strokeWidth:o.borderWidth,onClick:a?d:void 0,onMouseEnter:u?c:void 0,onMouseMove:s?f:void 0,onMouseLeave:l?g:void 0})},E=function(e,t,r,i,o){return n.to([e,t,r,i],(function(e,n,t,r){return o({startAngle:e,endAngle:n,innerRadius:Math.max(0,t),outerRadius:Math.max(0,r)})}))},F=function(e,r,i){void 0===r&&(r="innerRadius");var o=t.useMotionConfig(),a=o.animate,u=o.config,s=p(r,i);return{transition:n.useTransition(e,{keys:function(e){return e.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:u,immediate:!a}),interpolate:E}},B=function(e,n,r,i,o,a){var u=t.getDistance(o,a,e,n);return u<r&&u>i};e.ArcLabelComponent=m,e.ArcLabelsLayer=function(e){var n=e.center,a=e.data,s=e.transitionMode,d=e.label,c=e.radiusOffset,f=e.skipAngle,g=e.textColor,p=e.component,A=void 0===p?l:p,h=t.usePropertyAccessor(d),x=t.useTheme(),m=o.useInheritedColor(g,x),R=i.useMemo((function(){return a.filter((function(e){return Math.abs(t.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=f}))}),[a,f]),y=v(R,c,s),C=y.transition,M=y.interpolate,b=A;return r.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:C((function(e,n){return i.createElement(b,{key:n.id,datum:n,label:h(n),style:u({},e,{transform:M(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius),textColor:m(n)})})}))})},e.ArcLine=function(e){var i=e.animated,o=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,I);return r.jsx(n.animated.path,u({d:n.to([i.radius,i.startAngle,i.endAngle],(function(e,n,r){return function(e,n,r){var i=Math.min(n,r),o=Math.max(n,r),a=t.positionFromAngle(t.degreesToRadians(o),e),u=t.positionFromAngle(t.degreesToRadians(i),e);if(o-i>=360){var s=t.positionFromAngle(t.degreesToRadians(i+180),e);return["M "+a.x+" "+a.y,f(e,1,1,s.x,s.y),"M "+a.x+" "+a.y,f(e,1,0,s.x,s.y)].join(" ")}var l=o-i<=180?0:1;return["M "+a.x+" "+a.y,f(e,l,0,u.x,u.y)].join(" ")}(e,n,r)}))},o))},e.ArcLinkLabelComponent=j,e.ArcLinkLabelsLayer=function(e){var n=e.center,o=e.data,a=e.label,s=e.skipAngle,l=e.offset,d=e.diagonalLength,c=e.straightLength,f=e.strokeWidth,g=e.textOffset,p=e.textColor,A=e.linkColor,h=e.component,v=void 0===h?R:h,x=t.usePropertyAccessor(a),m=T({data:o,skipAngle:s,offset:l,diagonalLength:d,straightLength:c,textOffset:g,linkColor:A,textColor:p}),y=m.transition,C=m.interpolateLink,M=m.interpolateTextAnchor,b=m.interpolateTextPosition,k=v;return r.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:y((function(e,n){return i.createElement(k,{key:n.id,datum:n,label:x(n),style:u({},e,{thickness:f,path:C(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,e.offset,e.diagonalLength,e.straightLength),textAnchor:M(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius),textPosition:b(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,e.offset,e.diagonalLength,e.straightLength,e.textOffset)})})}))})},e.ArcShape=O,e.ArcsLayer=function(e){var n=e.center,a=e.data,s=e.arcGenerator,l=e.borderWidth,d=e.borderColor,c=e.onClick,f=e.onMouseEnter,g=e.onMouseMove,p=e.onMouseLeave,A=e.transitionMode,h=e.component,v=void 0===h?O:h,x=t.useTheme(),m=o.useInheritedColor(d,x),R=F(a,A,{enter:function(e){return{opacity:0,color:e.color,borderColor:m(e)}},update:function(e){return{opacity:1,color:e.color,borderColor:m(e)}},leave:function(e){return{opacity:0,color:e.color,borderColor:m(e)}}}),y=R.transition,C=R.interpolate,M=v;return r.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:y((function(e,n){return i.createElement(M,{key:n.id,datum:n,style:u({},e,{borderWidth:l,path:C(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,s)}),onClick:c,onMouseEnter:f,onMouseMove:g,onMouseLeave:p})}))})},e.arcTransitionModeById=g,e.arcTransitionModes=["startAngle","middleAngle","endAngle","innerRadius","centerRadius","outerRadius","pushIn","pushOut"],e.computeArcBoundingBox=function(e,n,r,i,o,a){void 0===a&&(a=!0);var u=[],s=t.positionFromAngle(t.degreesToRadians(i),r);u.push([s.x,s.y]);var l=t.positionFromAngle(t.degreesToRadians(o),r);u.push([l.x,l.y]);for(var d=Math.round(Math.min(i,o));d<=Math.round(Math.max(i,o));d++)if(d%90==0){var c=t.positionFromAngle(t.degreesToRadians(d),r);u.push([c.x,c.y])}u=u.map((function(t){var r=t[0],i=t[1];return[e+r,n+i]})),a&&u.push([e,n]);var f=u.map((function(e){return e[0]})),g=u.map((function(e){return e[1]})),p=Math.min.apply(Math,f),A=Math.max.apply(Math,f),h=Math.min.apply(Math,g);return{points:u,x:p,y:h,width:A-p,height:Math.max.apply(Math,g)-h}},e.computeArcCenter=A,e.computeArcLink=C,e.computeArcLinkTextAnchor=y,e.drawCanvasArcLabels=function(e,n,t){e.textAlign="center",e.textBaseline="middle",e.font=t.labels.text.fontSize+"px "+t.labels.text.fontFamily,n.forEach((function(n){e.fillStyle=n.textColor,e.fillText(""+n.label,n.x,n.y)}))},e.drawCanvasArcLinkLabels=function(e,n,r,i){e.textBaseline="middle",e.font=r.labels.text.fontSize+"px "+r.labels.text.fontFamily,n.forEach((function(n){e.fillStyle=n.textColor,e.textAlign=t.textPropsByEngine.canvas.align[n.textAnchor],e.fillText(""+n.label,n.x,n.y),e.beginPath(),e.strokeStyle=n.linkColor,e.lineWidth=i,n.points.forEach((function(n,t){0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)})),e.stroke()}))},e.findArcUnderCursor=function(e,n,r,i,o,a,u){if(B(e,n,r,i,a,u)){var s=t.getAngle(a,u,e,n);return o.find((function(e){var n=e.startAngle,t=e.endAngle;return s>=n&&s<t}))}},e.interpolateArc=E,e.interpolateArcCenter=h,e.isCursorInRing=B,e.useAnimatedArc=function(e,r){var i=t.useMotionConfig(),o=i.animate,a=i.config,s=n.useSpring({startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,config:a,immediate:!o});return u({},s,{path:E(s.startAngle,s.endAngle,s.innerRadius,s.outerRadius,r)})},e.useArcCenters=x,e.useArcCentersTransition=v,e.useArcGenerator=function(e){var n=void 0===e?{}:e,t=n.cornerRadius,r=void 0===t?0:t,o=n.padAngle,u=void 0===o?0:o;return i.useMemo((function(){return a.arc().innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(r).padAngle(u)}),[r,u])},e.useArcLabels=function(e){var n=e.data,r=e.offset,a=e.skipAngle,u=e.label,s=e.textColor,l=t.usePropertyAccessor(u),d=t.useTheme(),c=o.useInheritedColor(s,d),f=i.useCallback((function(e){return{label:l(e),textColor:c(e)}}),[l,c]);return x({data:n,offset:r,skipAngle:a,computeExtraProps:f})},e.useArcLinkLabels=function(e){var n=e.data,r=e.skipAngle,a=e.offset,s=e.diagonalLength,l=e.straightLength,d=e.textOffset,c=void 0===d?0:d,f=e.label,g=e.linkColor,p=e.textColor,A=t.usePropertyAccessor(f),h=t.useTheme(),v=o.useInheritedColor(g,h),x=o.useInheritedColor(p,h),m=i.useCallback((function(e){var n,t={x:e.points[2].x,y:e.points[2].y};return"before"===e.side?(t.x-=c,n="end"):(t.x+=c,n="start"),u({},t,{label:A(e.data),linkColor:v(e.data),textAnchor:n,textColor:x(e.data)})}),[A,v,x,c]);return P({data:n,skipAngle:r,offset:a,diagonalLength:s,straightLength:l,computeExtraProps:m})},e.useArcLinkLabelsTransition=T,e.useArcLinks=P,e.useArcTransitionMode=p,e.useArcsTransition=F,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-arcs.umd.js.map
